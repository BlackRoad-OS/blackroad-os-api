# generated by fastapi-codegen:
#   filename:  openapi.yaml
#   timestamp: 2025-11-24T09:40:48+00:00

from __future__ import annotations

from datetime import datetime
from typing import Any, Dict, List, Optional, Literal

from pydantic import BaseModel, Field


class HealthResponse(BaseModel):
    ok: Literal[True] = True
    uptime: float = Field(..., description='Uptime in seconds')
    version: str = Field(..., description='Git SHA or semantic version string')


class Agent(BaseModel):
    id: str
    name: str
    status: Optional[str] = Field(None, description='Optional status from operator')
    metadata: Optional[Dict[str, Any]] = None


class AgentListResponse(BaseModel):
    ok: Literal[True] = True
    agents: List[Agent]
    source: Optional[str] = Field(None, description='Operator URL used for lookup')


class Pack(BaseModel):
    id: str
    name: str
    version: str
    description: Optional[str] = None
    source: Optional[str] = None


class PackListResponse(BaseModel):
    ok: Literal[True] = True
    packs: List[Pack]
    retrievedAt: Optional[datetime] = None


class PackInstallRequest(BaseModel):
    version: Optional[str] = Field(None, description='Explicit pack version to install')
    options: Optional[Dict[str, Any]] = None


class PackInstallResponse(BaseModel):
    ok: Literal[True] = True
    jobId: str
    operatorUrl: Optional[str] = None


class Error(BaseModel):
    code: str
    message: str
    details: Optional[Dict[str, Any]] = None


class ErrorResponse(BaseModel):
    ok: Literal[False] = False
    error: Error


# Resolve forward references for Body parsing in FastAPI
PackInstallRequest.model_rebuild()
